<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="./style.css" />
        <title>Document</title>
    </head>

    <body>
        <div class="table">
            <table>
                <tr>
                    <td colspan="3" align="center">
                        <h1>Thực Đơn</h1>
                    </td>
                </tr>
                <tr class="heading-table" align="center">
                    <td>Thức ăn</td>
                    <td>Nước uống</td>
                    <td>Thời điểm</td>
                </tr>
                <tr>
                    <td>
                        <select name="food" id="food" multiple>
                            <option value="20000">Bún bò</option>
                            <option value="18000">Hủ tiếu</option>
                            <option value="17000">Bánh canh</option>
                            <option value="19000">Phở bò</option>
                            <option value="15000">Nuôi</option>
                            <option value="12000">Bánh mì thịt</option>
                            <option value="15000">Bánh cuốn</option>
                        </select>
                    </td>
                    <td>
                        <select name="drink" id="drink" multiple>
                            <option value="12000">Cafe đá</option>
                            <option value="15000">Cafe sữa</option>
                            <option value="13000">Canh dây</option>
                            <option value="12000">Canh muối</option>
                            <option value="14000">Xí muội</option>
                            <option value="13000">Sữa tươi</option>
                            <option value="17000">Cam vắt</option>
                        </select>
                    </td>
                    <td>
                        <input type="radio" name="day" id="morning" />
                        <label for="morning">Ban ngày</label><br />
                        <input type="radio" name="day" id="dinner" />
                        <label for="dinner">Ban đêm</label><br />
                    </td>
                </tr>
                <tr>
                    <td colspan="3" align="center">
                        <button class="btn-calc" onclick="calcHD()">Tính tiền</button>
                    </td>
                </tr>
            </table>
        </div>
        <div class="table-hd">
            <table id="table-hoahon">
                <tr align="center" style="color: blue">
                    <td width="60%">Các món đã dùng</td>
                    <td width="40%">Tiền</td>
                </tr>
            </table>
        </div>
        <script>
            function calcHD() {
                var food = document.getElementById("food").children,
                    drink = document.getElementById("drink").children,
                    day = document.getElementsByName("day");
                var listName = [],
                    listPrice = [],
                    checkDay = day[0].checked ? "day" : "night",
                    totalPrice = 0;

                for (var i = 0; i < food.length; i++) {
                    if (food[i].selected) {
                        listName.push(food[i].textContent);
                        listPrice.push(food[i].value);
                    }
                }

                for (var i = 0; i < drink.length; i++) {
                    if (drink[i].selected) {
                        listName.push(drink[i].textContent);
                        listPrice.push(drink[i].value);
                    }
                }
                for (var i = 0; i < listName.length; i++) {
                    var x = document.getElementById("table-hoahon").insertRow(i + 1);
                    var c1 = x.insertCell(0);
                    var c2 = x.insertCell(1);
                    c1.innerHTML = listName[i];
                    c2.innerHTML = listPrice[i];
                    totalPrice += Number(listPrice[i]);
                }

                var x = document.getElementById("table-hoahon").insertRow(listName.length + 1);
                var c1 = x.insertCell(0);
                var c2 = x.insertCell(1);
                c1.innerHTML = "Tổng tiền";
                if (checkDay == "night") {
                    totalPrice += totalPrice * 0.1;
                }
                c2.innerHTML = totalPrice + " đồng";
            }
        </script>
    </body>
</html>
